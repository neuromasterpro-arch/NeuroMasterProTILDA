 <!-- === Код с уголком (ресайзером) === -->
<script>
  (() => {
    // Находим все обёртки с текстовыми полями, где должен появиться ресайзер
    document.querySelectorAll('.form1_input__wrapper_micIcon-textarea').forEach(wrapper => {
      const textarea = wrapper.querySelector('.form1__textarea');
      if (!textarea) return; // Если текстовое поле не найдено, выходим, чтобы не упасть

      // Создаём визуальный уголок-ресайзер и добавляем его в обёртку
      const resizer = document.createElement('div');
      resizer.classList.add('custom-resizer');
      wrapper.appendChild(resizer);

      // Технические переменные для расчёта изменения высоты
      let isResizing = false, startY, startHeight;

      // Запоминаем начальную позицию курсора/пальца и высоту textarea
      const startResize = (clientY) => {
        isResizing = true;
        startY = clientY;
        startHeight = textarea.offsetHeight;
        document.body.style.userSelect = 'none'; // Блокируем выделение текста во время перетаскивания
      };

      // Пересчитываем высоту textarea относительно изначальной точки
      const doResize = (clientY) => {
        if (!isResizing) return;
        const dy = clientY - startY; // Сколько пикселей прошли мышью/пальцем
        textarea.style.height = `${Math.max(40, startHeight + dy)}px`; // Не даём высоте уйти меньше 40px
      };

      // Завершаем ресайз и возвращаем возможность выделения текста
      const stopResize = () => {
        isResizing = false;
        document.body.style.userSelect = '';
      };

      // Обработчики для мыши: нажали, тянем, отпустили
      resizer.addEventListener('mousedown', (e) => startResize(e.clientY));
      document.addEventListener('mousemove', (e) => doResize(e.clientY));
      document.addEventListener('mouseup', stopResize);

      // Обработчики для тач-устройств: запоминаем начало, тянем с предотвращением прокрутки, отпускаем
      resizer.addEventListener('touchstart', (e) => {
        e.preventDefault();
        startResize(e.touches[0].clientY);
      }, { passive: false });
      document.addEventListener('touchmove', (e) => {
        if (isResizing) {
          e.preventDefault();
          doResize(e.touches[0].clientY);
        }
      }, { passive: false });
      document.addEventListener('touchend', stopResize);
    });
  })();
</script>
